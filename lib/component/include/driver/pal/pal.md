# 外设抽象层驱动

截止25/12/27，本框架没有外设抽象层驱动，驱动和设备都集中在设备层，这是一个历史遗留问题，原因如下：

驱动和设备分离的概念是框架开发过程中引入的，在开始设计外设抽象层时并未考虑到将抽象层与设备层分离，这导致了数据处理逻辑和驱动逻辑高度耦合，使得针对性优化变得相当困难，当改动大时无限接近于重构。

具体举例就是：CAN框架在设计之初，实际上大量参考了RT-thread中的CAN框架实现，该实现中存在大量开关中断行为，后续我希望引入MPSC-Lock-Free时需要将数据结构和驱动逻辑都改一遍，非常的吃屎。

现在的CAN框架.c文件有1k+行代码，.h文件有670+行代码，从逻辑层面上来说CAN框架是合格的，但是从更宏观的架构设计的角度来看就是面条代码。

因此未来将外设驱动和外设设备分离来是十分有必要的，这能让框架走得更远。
